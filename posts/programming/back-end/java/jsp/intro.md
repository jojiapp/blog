# JSP 소개

## JSP가 필요한 이유

웹은 **HTML**, **CSS**, **Javascript**로 화면을 구현하는데, 이는 웹 브라우저에서 실행되기 때문에, **DB**나 **시스템** 등과 소통을 할 수가 없습니다.
그래서 **DB**나 **시스템**등과 소통이 가능한 백엔드 단 언어가 필요하고, 그 백엔드 언어와 소통하여 데이터를 가져와야 합니다.

**JSP**는 **Java Server Page**의 약자로 Java 코드가 사용이 가능한(웹과 관련된 요소들을 사용할 수 있는) HTML 파일이라고 생각하면 될 거 같습니다. (+ JSP 문법)

> 엄밀히 따지면, **JSP**는 **Servlet**으로 컴파일 되기 때문에 전부 **Java**코드가 됩니다.

### Servlet 이란?

[Servlet과 JSP 비교](https://m.blog.naver.com/acornedu/221128616501)

**Servlet**은 웹 기반 요청을 동적으로 처리 하는 **Java**의 **Server Side Program** 이며, 웹앱을 개발하기 쉽게 만든 **API**입니다.
규약에 맞는 클래스들을 상속 및 구현하여 만든 클래스를 **Servlet**이라고 합니다

`Thread`를 기반으로 요청을 처리 하기 때문에, 사용자가 많을 수록 효율적으로 동작합니다.  
(하나의 **요청**에 하나의 `Thread`가 생성되고 처리가 끝나면 소멸)

> **Java** 코드 안에 **HTML** 코드가 들어갑니다. (정확히는 `String`으로 **HTML** 코드를 구현)

#### Servlet의 단점

**Java**를 기반으로 하기 때문에, **Java**를 알아야 하며, **화면 Interface 구현**에 너무 많은 코드가 비효율적입니다.

### JSP (Java Server Page) 란?

**JSP**는 **Servlet**의 단점을 보완하고자 만든 **Servlet 기반의 스크립트 언어**입니다.
**Servlet**은 모든 **HTML**을 `String`으로 만들어야 했지만, **JSP**는 **HTML**과 **Java**를 모두 사용 할 수 있습니다.

**최초의 요청**이 들어오면, 해당 요청에 맞는 **JSP**의 **Servlet 인스턴스**를 **한 번만 생성** 합니다.
**이후 요청**은 이미 생성 되어 있는 인스턴스로 처리합니다.

> **HTML** 코드 안에 **Java** 코드가 들어갑니다. (정확히는 **HTML** 코드와 **Java** 코드를 같이 사용)

> **Servlet**과 **JSP** 모두 **Sun Microsystems**사에서 만들었습니다.

## Apache Tomcat

우선 웹의 요청을 받을려면 웹 서버가 필요합니다. 많은 웹 서버가 있지만, **JSP**는 주로 **Apache Tomcat**을 사용합니다.

- **Apache**는 **정적인 요청**을 처리하는 **Web Server** 입니다.
- **Tomcat**은 **동적인 요청**을 처리하는 **WAS(Web Application Server)** 입니다.

클라이언트에서 요청이 들어오면 해당 요청이 정적인 요청(HTML, CSS, Javascript, Image 등등)인지 동적인 요청(JSP)인지 판별하여,
정적인 요청이면 해당 요청을 바로 응답해주고, 동적인 요청이라면 **Tomcat**으로 해당 요청을 넘깁니다.
그렇게 **Tomcat**에서 요청을 처리하여 응답을 주면, 그 응답을 **Apache**가 받아 다시 클라이언트에게 보냅니다.

**WAS**(Tomcat)가 없으면 **JSP**파일을 컴파일 할 수 없으므로 반드시 설치해줘야 합니다.

> **Apache**와 **Tomcat**은 같이 설치 됩니다.